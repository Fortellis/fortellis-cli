"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const toNumber = require('lodash/toNumber');
const isFinite = require('lodash/isFinite');
const toString = require('lodash/toString');
exports.safeParse = (text, reviver) => {
    if (typeof text !== 'string')
        return text;
    try {
        const num = parseNumber(text);
        if (typeof num === 'string')
            return num;
        return JSON.parse(text, reviver);
    }
    catch (e) {
        return void 0;
    }
};
const parseNumber = (string) => {
    const numVal = toNumber(string);
    if (isFinite(numVal)) {
        if (toString(numVal) === string) {
            return numVal;
        }
        return string;
    }
    return NaN;
};
//# sourceMappingURL=safeParse.js.map