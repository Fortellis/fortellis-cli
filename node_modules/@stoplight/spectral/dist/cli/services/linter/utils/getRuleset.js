"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const path_1 = require("@stoplight/path");
const rulesets_1 = require("../../../../rulesets");
const loader_1 = require("../../../../rulesets/loader");
function loadRulesets(cwd, rulesetFiles) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        if (rulesetFiles.length === 0) {
            return {
                functions: {},
                rules: {},
            };
        }
        return rulesets_1.readRuleset(rulesetFiles.map(file => (path_1.isAbsolute(file) ? file : path_1.resolve(cwd, file))));
    });
}
function getRuleset(rulesetFile) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const rulesetFiles = rulesetFile || (yield loader_1.getDefaultRulesetFile(process.cwd()));
        return yield (rulesetFiles
            ? loadRulesets(process.cwd(), Array.isArray(rulesetFiles) ? rulesetFiles : [rulesetFiles])
            : rulesets_1.readRuleset('spectral:oas'));
    });
}
exports.getRuleset = getRuleset;
//# sourceMappingURL=getRuleset.js.map