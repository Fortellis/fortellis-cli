"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const json_ref_resolver_1 = require("@stoplight/json-ref-resolver");
const fs = require("fs");
const http_1 = require("./http");
exports.httpAndFileResolver = new json_ref_resolver_1.Resolver({
    resolvers: {
        https: http_1.httpReader,
        http: http_1.httpReader,
        file: {
            resolve(ref) {
                return new Promise((resolve, reject) => {
                    const path = ref.path();
                    fs.readFile(path, 'utf8', (err, data) => {
                        if (err) {
                            reject(err);
                        }
                        else {
                            resolve(data);
                        }
                    });
                });
            },
        },
    },
});
//# sourceMappingURL=http-and-file.js.map