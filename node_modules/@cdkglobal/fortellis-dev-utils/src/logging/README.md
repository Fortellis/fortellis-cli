# Fortellis Log Service

## Installation

```bash
npm i --save @cdkglobal/fortellis-dev-utils
```

## Prerequisites

- Node.js `^8.0.0` is required to support async/await (AWS Lambda supports `v8.10.0` and `v10.15.0`)
- Configured `.npmrc` to point your npm registry to the cdk artifactory host:

    ```text
    registry=http://artifactory.cdk.com/artifactory/api/npm/npm-repo
    ```

## Usage

```javascript
const { logService: logger  } = require("@cdkglobal/fortellis-dev-utils");

// You can set the logging context for your application
logger.setContext('APP_NAME');

logger.debug({ message: 'This is an debug message' });
logger.info({ message: 'This is an info message' });
logger.warn({ message: 'This is a warn message' });
logger.error({ message: 'This is a error message' });
logger.verbose({ message: 'This is an verbose message' });

//OUTPUT
{"message":"This is a error message","level":"error","timestamp":"2018-05-31T03:43:26.691Z","context":"APP_NAME"}
{"message":"This is a warn message","level":"warn","timestamp":"2018-05-31T03:43:26.692Z","context":"APP_NAME"}
{"message":"This is an info message","level":"info","timestamp":"2018-05-31T03:43:26.692Z","context":"APP_NAME"}
{"message":"This is an verbose message","level":"verbose","timestamp":"2018-05-31T03:43:26.693Z","context":"APP_NAME"}
{"message":"This is an debug message","level":"debug","timestamp":"2018-05-31T03:43:26.693Z","context":"APP_NAME"}

```

## Supported log levels with decreasing levels of priority

- `debug` (default)
- `info`
- `warn`
- `error`
- `verbose`
- `silly`

## Guidance on Logging Best Practices

Fortellis logging best practices can be found in [this confluence documentation](https://confluence.cdk.com/display/CE/Logging)
