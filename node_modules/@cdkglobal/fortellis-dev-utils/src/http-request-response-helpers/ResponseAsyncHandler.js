function asyncResponseHandler(service) {
  return async function(req, res) {
    const serviceResponse = await service(req);
    res.status(serviceResponse.httpCode);
    delete serviceResponse.httpCode;
    res.type('application/json');
    res.json(serviceResponse);
  };
}

module.exports = {
  asyncResponseHandler
};
