const secretManager = require('../../src/secrets-manager/SecretsManager');

describe('src/secrets-manager/SecretsManager ', function() {
  test('getSecretValue should be defined', () => {
    expect(secretManager.getSecretValue).toBeDefined();
  });

  test('getSecretValue calls aws-sdk SecretsManager.getSecretValue', () => {
    secretManager.client.getSecretValue = jest.fn(() => {});
    secretManager.getSecretValue({ SecretId: 'test' });

    expect(secretManager.client.getSecretValue).toHaveBeenCalled();
    expect(secretManager.client.getSecretValue.mock.calls[0][0]).toEqual({
      SecretId: 'test'
    });
  });
});
