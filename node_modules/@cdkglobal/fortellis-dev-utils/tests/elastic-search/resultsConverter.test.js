const {
  resultsConverter
} = require('../../src/elastic-search/resultsConverter');
let inputMock, outputMock;
describe('src/Utils/ElasticSearchResultsConverter', () => {
  it('should return empty', () => {
    inputMock = {
      took: 1,
      timed_out: false,
      _shards: {},
      hits: { max_score: 1.38, total: 1, hits: [] }
    };
    outputMock = [];
    expect(resultsConverter(inputMock)).toEqual(outputMock);
  });

  it('should return an array of one object', () => {
    inputMock = {
      took: 1,
      timed_out: false,
      _shards: {},
      hits: {
        max_score: 1.38,
        total: 1,
        hits: [
          {
            _id: 'c495dde1-b372-40b8-b7e2-eab43eea0f26',
            _index: 'fortellis_entities',
            _score: 1.38,
            _source: {
              id: 'c495dde1-b372-40b8-b7e2-eab43eea0f26',
              name: 'Test Entity',
              phone: '123456789'
            }
          }
        ]
      }
    };
    outputMock = [
      {
        id: 'c495dde1-b372-40b8-b7e2-eab43eea0f26',
        name: 'Test Entity',
        phone: '123456789'
      }
    ];
    expect(resultsConverter(inputMock)).toEqual(outputMock);
  });
});
